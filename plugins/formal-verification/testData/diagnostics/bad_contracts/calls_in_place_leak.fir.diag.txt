/calls_in_place_leak.kt:(607,629): info: Generated Viper text for invalid_calls_in_place:
method global$fun_escape$fun_take$fun_take$$return$T_Unit$return$T_Unit(local$h: Ref)
  returns (ret: Ref)
  requires acc(local$h.special$function_object_call_counter, write)
  requires special$duplicable(local$h)
  ensures acc(local$h.special$function_object_call_counter, write)
  ensures old(local$h.special$function_object_call_counter) <=
    local$h.special$function_object_call_counter
  ensures dom$RuntimeType$isSubtype(dom$RuntimeType$typeOf(ret), dom$RuntimeType$unitType())


method global$fun_invalid_calls_in_place$fun_take$fun_take$$return$T_Unit$return$T_Unit(local$f: Ref)
  returns (ret$0: Ref)
  requires acc(local$f.special$function_object_call_counter, write)
  ensures acc(local$f.special$function_object_call_counter, write)
  ensures old(local$f.special$function_object_call_counter) <=
    local$f.special$function_object_call_counter
  ensures dom$RuntimeType$isSubtype(dom$RuntimeType$typeOf(ret$0), dom$RuntimeType$unitType())
  ensures true
{
  var anonymous$0: Ref
  inhale dom$RuntimeType$isSubtype(dom$RuntimeType$typeOf(local$f), dom$RuntimeType$functionType())
  ret$0 := dom$RuntimeType$unitValue()
  anonymous$0 := global$fun_escape$fun_take$fun_take$$return$T_Unit$return$T_Unit(local$f)
  label label$ret$0
}

/calls_in_place_leak.kt:(697,706): warning: Function 'h: () -> Unit' may leak from its in-place contract.

/calls_in_place_leak.kt:(787,807): info: Generated Viper text for function_object_call:
method global$fun_function_object_call$fun_take$fun_take$fun_take$$return$T_Unit$return$T_Unit$fun_take$$return$T_Unit$return$T_Unit(local$f: Ref,
  local$g: Ref)
  returns (ret$0: Ref)
  requires acc(local$f.special$function_object_call_counter, write)
  requires acc(local$g.special$function_object_call_counter, write)
  requires special$duplicable(local$f)
  ensures acc(local$f.special$function_object_call_counter, write)
  ensures acc(local$g.special$function_object_call_counter, write)
  ensures old(local$f.special$function_object_call_counter) <=
    local$f.special$function_object_call_counter
  ensures old(local$g.special$function_object_call_counter) <=
    local$g.special$function_object_call_counter
  ensures dom$RuntimeType$isSubtype(dom$RuntimeType$typeOf(ret$0), dom$RuntimeType$unitType())
  ensures true
{
  var anonymous$0: Ref
  var anonymous$1: Ref
  inhale dom$RuntimeType$isSubtype(dom$RuntimeType$typeOf(local$f), dom$RuntimeType$functionType())
  inhale dom$RuntimeType$isSubtype(dom$RuntimeType$typeOf(local$g), dom$RuntimeType$functionType())
  ret$0 := dom$RuntimeType$unitValue()
  assert special$duplicable(local$g)
  special$invoke_function_object(local$f)
  anonymous$1 := anonymous$0
  inhale dom$RuntimeType$isSubtype(dom$RuntimeType$typeOf(anonymous$1), dom$RuntimeType$unitType())
  ret$0 := anonymous$1
  goto label$ret$0
  label label$ret$0
}

/calls_in_place_leak.kt:(906,910): warning: Function 'g: () -> Unit' may leak from its in-place contract.
