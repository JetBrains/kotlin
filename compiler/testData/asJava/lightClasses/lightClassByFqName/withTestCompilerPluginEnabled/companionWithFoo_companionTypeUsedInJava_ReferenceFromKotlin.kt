// test.TestClass

// Java code does not see declarations generated by compiler plugins, see KT-65454
// COMPILATION_ERRORS

// WITH_FIR_TEST_COMPILER_PLUGIN

// FILE: main.kt
package test

import org.jetbrains.kotlin.fir.plugin.CompanionWithFoo

@CompanionWithFoo
class MyClass

class TestClass {
    val usage = CompanionProvider.provide()
}

// FILE: test/JavaClass.java
package test;

public class CompanionProvider {
    // generated MyClass.Companion type reference in java
    public static MyClass.Companion provide() { return null; }
}
