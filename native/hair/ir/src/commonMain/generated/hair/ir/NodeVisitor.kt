package hair.ir

import hair.ir.nodes.*

abstract class NodeVisitor<R> {
    abstract fun visitNode(node: Node): R

    open fun visitUse(node: Use): R = visitBlockBody(node)
    open fun visitNoValue(node: NoValue): R = visitNode(node)
    open fun visitUnitValue(node: UnitValue): R = visitNode(node)
    open fun visitStaticInit(node: StaticInit): R = visitBlockBody(node)
    open fun visitGlobalInit(node: GlobalInit): R = visitStaticInit(node)
    open fun visitThreadLocalInit(node: ThreadLocalInit): R = visitStaticInit(node)
    open fun visitStandaloneThreadLocalInit(node: StandaloneThreadLocalInit): R = visitStaticInit(node)
    open fun visitUnreachable(node: Unreachable): R = visitNode(node)
    open fun visitBlockEntry(node: BlockEntry): R = visitNode(node)
    open fun visitControlled(node: Controlled): R = visitNode(node)
    open fun visitBlockBody(node: BlockBody): R = visitControlled(node)
    open fun visitBlockBodyWithException(node: BlockBodyWithException): R = visitBlockBody(node)
    open fun visitBlockEnd(node: BlockEnd): R = visitControlled(node)
    open fun visitReturn(node: Return): R = visitBlockEnd(node)
    open fun visitGoto(node: Goto): R = visitBlockEnd(node)
    open fun visitIf(node: If): R = visitBlockEnd(node)
    open fun visitIfProjection(node: IfProjection): R = visitNode(node)
    open fun visitTrueExit(node: TrueExit): R = visitIfProjection(node)
    open fun visitFalseExit(node: FalseExit): R = visitIfProjection(node)
    open fun visitThrow(node: Throw): R = visitBlockEnd(node)
    open fun visitUnwind(node: Unwind): R = visitNode(node)
    open fun visitVarOp(node: VarOp): R = visitBlockBody(node)
    open fun visitReadVar(node: ReadVar): R = visitVarOp(node)
    open fun visitAssignVar(node: AssignVar): R = visitVarOp(node)
    open fun visitPhi(node: Phi): R = visitNode(node)
    open fun visitPhiPlaceholder(node: PhiPlaceholder): R = visitNode(node)
    open fun visitParam(node: Param): R = visitNode(node)
    open fun visitCatch(node: Catch): R = visitNode(node)
    open fun visitConstI(node: ConstI): R = visitNode(node)
    open fun visitConstL(node: ConstL): R = visitNode(node)
    open fun visitConstF(node: ConstF): R = visitNode(node)
    open fun visitConstD(node: ConstD): R = visitNode(node)
    open fun visitTrue(node: True): R = visitNode(node)
    open fun visitFalse(node: False): R = visitNode(node)
    open fun visitNull(node: Null): R = visitNode(node)
    open fun visitBinaryOp(node: BinaryOp): R = visitNode(node)
    open fun visitAdd(node: Add): R = visitBinaryOp(node)
    open fun visitSub(node: Sub): R = visitBinaryOp(node)
    open fun visitMul(node: Mul): R = visitBinaryOp(node)
    open fun visitDiv(node: Div): R = visitBinaryOp(node)
    open fun visitRem(node: Rem): R = visitBinaryOp(node)
    open fun visitAnd(node: And): R = visitBinaryOp(node)
    open fun visitOr(node: Or): R = visitBinaryOp(node)
    open fun visitXor(node: Xor): R = visitBinaryOp(node)
    open fun visitShl(node: Shl): R = visitBinaryOp(node)
    open fun visitShr(node: Shr): R = visitBinaryOp(node)
    open fun visitUshr(node: Ushr): R = visitBinaryOp(node)
    open fun visitCmp(node: Cmp): R = visitBinaryOp(node)
    open fun visitNot(node: Not): R = visitNode(node)
    open fun visitCast(node: Cast): R = visitNode(node)
    open fun visitSignExtend(node: SignExtend): R = visitCast(node)
    open fun visitZeroExtend(node: ZeroExtend): R = visitCast(node)
    open fun visitTruncate(node: Truncate): R = visitCast(node)
    open fun visitReinterpret(node: Reinterpret): R = visitCast(node)
    open fun visitNew(node: New): R = visitBlockBody(node)
    open fun visitNewArray(node: NewArray): R = visitBlockBody(node)
    open fun visitTypeCheck(node: TypeCheck): R = visitNode(node)
    open fun visitIsInstanceOf(node: IsInstanceOf): R = visitTypeCheck(node)
    open fun visitCheckCast(node: CheckCast): R = visitTypeCheck(node)
    open fun visitDirectMemoryOp(node: DirectMemoryOp): R = visitNode(node)
    open fun visitLoad(node: Load): R = visitDirectMemoryOp(node)
    open fun visitStore(node: Store): R = visitDirectMemoryOp(node)
    open fun visitLoadField(node: LoadField): R = visitNode(node)
    open fun visitStoreField(node: StoreField): R = visitNode(node)
    open fun visitLoadGlobal(node: LoadGlobal): R = visitNode(node)
    open fun visitStoreGlobal(node: StoreGlobal): R = visitNode(node)
    open fun visitAnyInvoke(node: AnyInvoke): R = visitBlockBodyWithException(node)
    open fun visitInvokeStatic(node: InvokeStatic): R = visitAnyInvoke(node)
    open fun visitInvokeVirtual(node: InvokeVirtual): R = visitAnyInvoke(node)
}
