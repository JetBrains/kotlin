Analysis attempt #0
KT element: KtLambdaExpression
KT element text:
{ }
FIR element: FirAnonymousFunctionExpressionImpl
FIR source kind: KtRealSourceElementKind

FIR element rendered:
[ResolvedTo(BODY_RESOLVE)] [MatchingParameterFunctionTypeKey=() -> kotlin/Unit] fun <anonymous>(): R|kotlin/Unit| <inline=NoInline>  {
    ^ Unit
}

FIR FILE:
FILE: [ResolvedTo(IMPORTS)] lambdaFromContract.kt
    @FILE:OptIn[Unresolved](LAZY_EXPRESSION)
    public final [ResolvedTo(ANNOTATION_ARGUMENTS)] [PartialBodyAnalysisStateKey=0(0/2) #1] fun runSomething([ResolvedTo(ANNOTATION_ARGUMENTS)] action: R|() -> kotlin/Unit| = [ResolvedTo(BODY_RESOLVE)] [MatchingParameterFunctionTypeKey=() -> kotlin/Unit] fun <anonymous>(): R|kotlin/Unit| <inline=NoInline>  {
        ^ Unit
    }
    ): R|kotlin/Unit| {
        contract#(<L> = [ResolvedTo(RAW_FIR)] contract@fun [ResolvedTo(RAW_FIR)] <implicit>.<anonymous>(): <implicit> <inline=Unknown>  {
            callsInPlace#(action#, InvocationKind#.AT_MOST_ONCE#)
        }
        )
        Unit#
    }

=====

Analysis attempt #1
KT element: KtLambdaArgument
KT element text:
{
        callsInPlace(action, InvocationKind.AT_MOST_ONCE)
    }
FIR element: FirAnonymousFunctionExpressionImpl
FIR source kind: KtRealSourceElementKind

FIR element rendered:
<L> = [ResolvedTo(BODY_RESOLVE)] contract@fun <anonymous>(): <ERROR TYPE REF: Unresolved name: callsInPlace> <inline=Unknown>  {
    ^ <Unresolved name: callsInPlace>#(R|<local>/action|, <Unresolved name: InvocationKind>#.<Unresolved name: AT_MOST_ONCE>#)
}

FIR FILE:
FILE: [ResolvedTo(IMPORTS)] lambdaFromContract.kt
    @FILE:OptIn[Unresolved](LAZY_EXPRESSION)
    public final [ResolvedTo(ANNOTATION_ARGUMENTS)] [PartialBodyAnalysisStateKey=1(1/2) #2] fun runSomething([ResolvedTo(ANNOTATION_ARGUMENTS)] action: R|() -> kotlin/Unit| = [ResolvedTo(BODY_RESOLVE)] [MatchingParameterFunctionTypeKey=() -> kotlin/Unit] fun <anonymous>(): R|kotlin/Unit| <inline=NoInline>  {
        ^ Unit
    }
    ): R|kotlin/Unit| {
        <Unresolved name: contract>#(<L> = [ResolvedTo(BODY_RESOLVE)] contract@fun <anonymous>(): <ERROR TYPE REF: Unresolved name: callsInPlace> <inline=Unknown>  {
            ^ <Unresolved name: callsInPlace>#(R|<local>/action|, <Unresolved name: InvocationKind>#.<Unresolved name: AT_MOST_ONCE>#)
        }
        )
        Unit#
    }