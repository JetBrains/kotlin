# copy
../simple/ap
ap

# copy
../simple/Test.kt
Test.kt

# mkdir
output/ap
output/stubs
output/classes
output/javaClasses
output/sources

# kotlinc
-cp %KOTLIN_STDLIB%
-d output/ap
ap/Processor.kt

# kapt
-Kapt-stubs=output/stubs
-Kapt-classes=output/classes
-Kapt-sources=output/sources
-Kapt-classpath=output/ap
-Kapt-mode=stubs
-d output/classes
-cp output/ap:%KOTLIN_STDLIB%
Test.kt

# kapt
-Kapt-stubs=output/stubs
-Kapt-classes=output/classes
-Kapt-sources=output/sources
-Kapt-classpath=output/ap
-Kapt-mode=apt
-Kapt-processors=apt.SampleApt
-d output/classes
-cp output/ap:%KOTLIN_STDLIB%
Test.kt

# kotlinc
-d output/classes
-cp output/ap:%KOTLIN_STDLIB%
output/sources
Test.kt

# javac
-cp output/ap
-d output/javaClasses
-proc:none
output/sources/generated/Function.java
output/sources/generated/Property.java
output/sources/generated/Test.java

# java
-cp output/classes:output/javaClasses:output/ap:%KOTLIN_STDLIB%
test.TestKt

# after
Generated class: generated.Test