// LANGUAGE: +ContextParameters
// CHECK_BYTECODE_LISTING
// IGNORE_BACKEND_K1: ANY

context(x: String, y: String)
fun topLevel31(
    p1: Double = 1.0,
    p2: Double = 1.0,
    p3: Double = 1.0,
    p4: Double = 1.0,
    p5: Double = 1.0,
    p6: Double = 1.0,
    p7: Double = 1.0,
    p8: Double = 1.0,
    p9: Double = 1.0,
    p10: Double = 1.0,
    p11: Double = 1.0,
    p12: Double = 1.0,
    p13: Double = 1.0,
    p14: Double = 1.0,
    p15: Double = 1.0,
    p16: Double = 1.0,
    p17: Double = 1.0,
    p18: Double = 1.0,
    p19: Double = 1.0,
    p20: Double = 1.0,
    p21: Double = 1.0,
    p22: Double = 1.0,
    p23: Double = 1.0,
    p24: Double = 1.0,
    p25: Double = 1.0,
    p26: Double = 1.0,
    p27: Double = 1.0,
    p28: Double = 1.0,
    p29: Double = 1.0,
    p30: Double = 1.0,
    p31: Double = 1.0,
) = 31

context(x: String, y: String)
fun topLevel32(
    p1: Double = 1.0,
    p2: Double = 1.0,
    p3: Double = 1.0,
    p4: Double = 1.0,
    p5: Double = 1.0,
    p6: Double = 1.0,
    p7: Double = 1.0,
    p8: Double = 1.0,
    p9: Double = 1.0,
    p10: Double = 1.0,
    p11: Double = 1.0,
    p12: Double = 1.0,
    p13: Double = 1.0,
    p14: Double = 1.0,
    p15: Double = 1.0,
    p16: Double = 1.0,
    p17: Double = 1.0,
    p18: Double = 1.0,
    p19: Double = 1.0,
    p20: Double = 1.0,
    p21: Double = 1.0,
    p22: Double = 1.0,
    p23: Double = 1.0,
    p24: Double = 1.0,
    p25: Double = 1.0,
    p26: Double = 1.0,
    p27: Double = 1.0,
    p28: Double = 1.0,
    p29: Double = 1.0,
    p30: Double = 1.0,
    p31: Double = 1.0,
    p32: Double = 1.0,
) = 32

context(x: String, y: String)
fun topLevel33(
    p1: Double = 1.0,
    p2: Double = 1.0,
    p3: Double = 1.0,
    p4: Double = 1.0,
    p5: Double = 1.0,
    p6: Double = 1.0,
    p7: Double = 1.0,
    p8: Double = 1.0,
    p9: Double = 1.0,
    p10: Double = 1.0,
    p11: Double = 1.0,
    p12: Double = 1.0,
    p13: Double = 1.0,
    p14: Double = 1.0,
    p15: Double = 1.0,
    p16: Double = 1.0,
    p17: Double = 1.0,
    p18: Double = 1.0,
    p19: Double = 1.0,
    p20: Double = 1.0,
    p21: Double = 1.0,
    p22: Double = 1.0,
    p23: Double = 1.0,
    p24: Double = 1.0,
    p25: Double = 1.0,
    p26: Double = 1.0,
    p27: Double = 1.0,
    p28: Double = 1.0,
    p29: Double = 1.0,
    p30: Double = 1.0,
    p31: Double = 1.0,
    p32: Double = 1.0,
    p33: Double = 1.0,
) = 33

class A {
    context(x: String, y: String)
    fun member31(
        p1: Double = 1.0,
        p2: Double = 1.0,
        p3: Double = 1.0,
        p4: Double = 1.0,
        p5: Double = 1.0,
        p6: Double = 1.0,
        p7: Double = 1.0,
        p8: Double = 1.0,
        p9: Double = 1.0,
        p10: Double = 1.0,
        p11: Double = 1.0,
        p12: Double = 1.0,
        p13: Double = 1.0,
        p14: Double = 1.0,
        p15: Double = 1.0,
        p16: Double = 1.0,
        p17: Double = 1.0,
        p18: Double = 1.0,
        p19: Double = 1.0,
        p20: Double = 1.0,
        p21: Double = 1.0,
        p22: Double = 1.0,
        p23: Double = 1.0,
        p24: Double = 1.0,
        p25: Double = 1.0,
        p26: Double = 1.0,
        p27: Double = 1.0,
        p28: Double = 1.0,
        p29: Double = 1.0,
        p30: Double = 1.0,
        p31: Double = 1.0,
    ) = 31

    context(x: String, y: String)
    fun member32(
        p1: Double = 1.0,
        p2: Double = 1.0,
        p3: Double = 1.0,
        p4: Double = 1.0,
        p5: Double = 1.0,
        p6: Double = 1.0,
        p7: Double = 1.0,
        p8: Double = 1.0,
        p9: Double = 1.0,
        p10: Double = 1.0,
        p11: Double = 1.0,
        p12: Double = 1.0,
        p13: Double = 1.0,
        p14: Double = 1.0,
        p15: Double = 1.0,
        p16: Double = 1.0,
        p17: Double = 1.0,
        p18: Double = 1.0,
        p19: Double = 1.0,
        p20: Double = 1.0,
        p21: Double = 1.0,
        p22: Double = 1.0,
        p23: Double = 1.0,
        p24: Double = 1.0,
        p25: Double = 1.0,
        p26: Double = 1.0,
        p27: Double = 1.0,
        p28: Double = 1.0,
        p29: Double = 1.0,
        p30: Double = 1.0,
        p31: Double = 1.0,
        p32: Double = 1.0,
    ) = 32

    context(x: String, y: String)
    fun member33(
        p1: Double = 1.0,
        p2: Double = 1.0,
        p3: Double = 1.0,
        p4: Double = 1.0,
        p5: Double = 1.0,
        p6: Double = 1.0,
        p7: Double = 1.0,
        p8: Double = 1.0,
        p9: Double = 1.0,
        p10: Double = 1.0,
        p11: Double = 1.0,
        p12: Double = 1.0,
        p13: Double = 1.0,
        p14: Double = 1.0,
        p15: Double = 1.0,
        p16: Double = 1.0,
        p17: Double = 1.0,
        p18: Double = 1.0,
        p19: Double = 1.0,
        p20: Double = 1.0,
        p21: Double = 1.0,
        p22: Double = 1.0,
        p23: Double = 1.0,
        p24: Double = 1.0,
        p25: Double = 1.0,
        p26: Double = 1.0,
        p27: Double = 1.0,
        p28: Double = 1.0,
        p29: Double = 1.0,
        p30: Double = 1.0,
        p31: Double = 1.0,
        p32: Double = 1.0,
        p33: Double = 1.0,
    ) = 33
}

fun box(): String {
    if (with("") { topLevel31() } != 31) return "Fail 1"
    if (with("") { topLevel32() } != 32) return "Fail 2"
    if (with("") { topLevel33() } != 33) return "Fail 3"

    if (with("") { A().member31() } != 31) return "Fail 4"
    if (with("") { A().member32() } != 32) return "Fail 5"
    if (with("") { A().member33() } != 33) return "Fail 6"

    return "OK"
}