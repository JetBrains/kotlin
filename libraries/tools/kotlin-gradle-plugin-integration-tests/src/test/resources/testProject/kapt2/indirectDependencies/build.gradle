import org.jetbrains.kotlin.gradle.tasks.KotlinJvmCompile

plugins {
    id "java"
    id "org.jetbrains.kotlin.jvm"
    id "org.jetbrains.kotlin.kapt"
}

repositories {
    mavenLocal()
    mavenCentral()
}

configurations {
    baseAnnos
    kapt.extendsFrom(baseAnnos)
}

dependencies {
    implementation "org.jetbrains.kotlin:kotlin-stdlib:$kotlin_version"
    implementation "org.jetbrains.kotlin:annotation-processor-example:$kotlin_version"
    baseAnnos "org.jetbrains.kotlin:annotation-processor-example:$kotlin_version"
}

tasks.named("compileKotlin", KotlinJvmCompile) {
    compilerOptions.allWarningsAsErrors = false // compilation with LV=2.0 prints warning about kapt fallback
}
