<idea-plugin>
  <extensions defaultExtensionNs="org.jetbrains.kotlin">
    <projectConfigurator implementation="org.jetbrains.kotlin.idea.configuration.KotlinJavaMavenConfigurator"/>
    <projectConfigurator implementation="org.jetbrains.kotlin.idea.configuration.KotlinJavascriptMavenConfigurator"/>
  </extensions>
  <extensions defaultExtensionNs="org.jetbrains.idea.maven">
    <importer implementation="org.jetbrains.kotlin.idea.configuration.KotlinMavenImporter" />
    <archetypesProvider implementation="org.jetbrains.kotlin.idea.configuration.KotlinMavenArchetypesProvider" />

    <pluginDescriptor mavenId="org.jetbrains.kotlin:kotlin-maven-plugin">
      <param name="sourceDirs/dir" refProvider="org.jetbrains.idea.maven.plugins.api.common.MavenCommonParamReferenceProviders$DirPath"/>
      <param name="sourceDirs/sourceDir" refProvider="org.jetbrains.idea.maven.plugins.api.common.MavenCommonParamReferenceProviders$DirPath"/>

      <param name="defaultSourceDirs/defaultSourceDir" refProvider="org.jetbrains.idea.maven.plugins.api.common.MavenCommonParamReferenceProviders$DirPath"/>
      <param name="defaultSourceDirs/sourceDir" refProvider="org.jetbrains.idea.maven.plugins.api.common.MavenCommonParamReferenceProviders$DirPath"/>
      <param name="defaultSourceDirs/dir" refProvider="org.jetbrains.idea.maven.plugins.api.common.MavenCommonParamReferenceProviders$DirPath"/>
    </pluginDescriptor>
  </extensions>
  <extensions defaultExtensionNs="com.intellij">
    <localInspection implementationClass="org.jetbrains.kotlin.idea.configuration.KotlinMavenPluginPhaseInspection"
                     displayName="Kotlin Maven Plugin inspection"
                     groupName="Kotlin"
                     enabledByDefault="true"
                     language="XML"
                     hasStaticDescription="true"
                     level="WARNING" />

    <localInspection implementationClass="org.jetbrains.kotlin.idea.configuration.KotlinTestJUnitInspection"
                     displayName="Kotlin Maven: kotlin-test-junit inspection"
                     groupName="Kotlin"
                     enabledByDefault="true"
                     language="XML"
                     hasStaticDescription="true"
                     level="WARNING" />

    <localInspection implementationClass="org.jetbrains.kotlin.idea.configuration.SameVersionInspection"
                     displayName="Kotlin Maven: library and plugin inspection"
                     groupName="Kotlin"
                     enabledByDefault="true"
                     language="XML"
                     hasStaticDescription="true"
                     level="WARNING" />

    <localInspection implementationClass="org.jetbrains.kotlin.idea.configuration.SameVersionIDEPluginInspection"
                     displayName="Kotlin Maven: Maven and IDE plugins versions inspection"
                     groupName="Kotlin"
                     enabledByDefault="true"
                     language="XML"
                     hasStaticDescription="true"
                     level="WARNING" />

    <intentionAction>
      <className>org.jetbrains.kotlin.idea.configuration.MavenPluginSourcesMoveToBuild</className>
      <category>Kotlin</category>
    </intentionAction>
    <intentionAction>
      <className>org.jetbrains.kotlin.idea.configuration.MavenPluginSourcesMoveToExecutionIntention</className>
      <category>Kotlin</category>
    </intentionAction>
    <codeInsight.unresolvedReferenceQuickFixProvider
        implementation="org.jetbrains.kotlin.idea.configuration.KotlinMavenUnresolvedReferenceQuickFixProvider" />
  </extensions>

  <module-components>
    <component>
      <implementation-class>org.jetbrains.kotlin.idea.configuration.KotlinImporterComponent</implementation-class>
    </component>
  </module-components>

  <actions>
    <group id="KotlinMavenGenerate">
      <separator />

      <action id="KotlinGenerateMavenCompileExecutionAction"
              icon="/org/jetbrains/kotlin/idea/icons/kotlin13.png"
              class="org.jetbrains.kotlin.idea.configuration.GenerateMavenCompileExecutionAction"
              text="Kotlin compile execution" />

      <action id="KotlinGenerateMavenTestCompileExecutionAction"
              icon="/org/jetbrains/kotlin/idea/icons/kotlin13.png"
              class="org.jetbrains.kotlin.idea.configuration.GenerateMavenTestCompileExecutionAction"
              text="Kotlin test-compile execution" />

      <action id="KotlinGenerateMavenPluginAction"
              icon="/org/jetbrains/kotlin/idea/icons/kotlin13.png"
              class="org.jetbrains.kotlin.idea.configuration.GenerateMavenPluginAction"
              text="Kotlin plugin" />

      <add-to-group group-id="GenerateGroup" anchor="last" />
    </group>
  </actions>
</idea-plugin>
