/*

internal class Example<X, T : Comparable<X>>(protected val x : Foo<X, T>, y : Some)
    : Bar(x), Foo<X, T> by x, IAbstractSome by y.asAbstract()
    where
      T : Function<Object, Object>
{
  // members
}

*/

class
  : classModifier* "class" SimpleName
      ("<" typeParameter{","} ">")?
      ("(" defaultConstructorParameter{","} ")")?
      (":" delegationSpecifier{","})?
      ("where" typeConstraint{","})?  // Syntax is questionable
      classBody?
  ;

classBody
  : ("{" memberDeclaration{","} "}"
  ;

classModifier
  : accessModifier
  : "abstract"
  : "interface" // TODO: better name
  : "sealed"
  ;

delegationSpecifier
  : constructorInvocation // type and constructor arguments
  : explicitDelegation
  ;

explicitDelegation
  : userType "by" expression // TODO: Syntax is questionable
  ;

typeParameter
  : varianceAnnotation? SimpleName (":" userType)?
  ;

typeConstraint
  : userType ":" (userType | "this") 
  // TODO: other constraints, maybe
  ;

defaultConstructorParameter
  : accessModifier? ("val" | "var")? parameter
  ;


